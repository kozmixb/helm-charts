replicaCount: 1

volumes:
  - name: app
    hostPath:
      path: ../lsapp

# Configure Laravel PHP-FPM container.
app:
  image:
    repository: bencejob/laravel-php74
    pullPolicy: IfNotPresent
    tag: "latest"

  volumeMounts:
    - name: app
      mountPath: /var/www/html

  healthcheck:
    enabled: true
    period: 5

nginx:
  image:
    repository: bencejob/laravel-nginx
    pullPolicy: IfNotPresent
    tag: "latest"

  volumeMounts:
    - name: app
      mountPath: /var/www/html

  healthcheck:
    enabled: false
    period: 5

service:
  type: ClusterIP
  port: 80

ingress:
  enabled: true
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: test.dev
      paths:
        - /
  tls: []
  # - secretName: chart-example-tls
  #   hosts:
  #     - chart-example.local

scheduler:
  # When enabling it, the chart will deploy a sidecar container in the same pod that
  # will run the "schedule:run" command each minute.
  enabled: false

  command:
    - php
    - artisan
    - schedule:work

  volumeMounts:
    - name: app
      mountPath: /var/www/html

  healthcheck:
    enabled: true
    period: 5
